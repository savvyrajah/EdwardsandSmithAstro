---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout
  title="Book Free Consultation | Edwards & Smith Buyers Agents"
  description="Book your free consultation with Queensland's trusted buyers agents. Tell us about your property goals and we'll help you find your dream home or investment property."
>
  <Header />
  <main>
    <!-- Hero Section -->
    <section class="consultation-hero section">
      <div class="container">
        <h1>Book Your Free Consultation</h1>
        <p class="hero-subtitle">Let's discuss your property goals and create a tailored strategy.</p>
        <div class="fee-banner">
          <p><strong>Our Fees:</strong> 2-3% in Queensland | Under 5% in Bali</p>
          <p class="fee-subtext">First consultation is free. Charges only apply when a client agreement is signed.</p>
        </div>
      </div>
    </section>
    <!-- Breadcrumbs -->
    <section class="page-header">
      <div class="container">
        <div class="breadcrumb-row">
          <div class="breadcrumb">
            <a href="/">Home</a> / <span>Book Free Consultation</span>
          </div>
          <div class="last-updated">Last Updated: 8 October 2025</div>
        </div>
      </div>
    </section>

    <!-- Main Content: Two Column Layout -->
    <section class="form-section section">
      <div class="container-wide">
        <div class="two-column-layout">

          <!-- Left Column: Social Proof & Benefits -->
          <div class="social-proof-column">
            <div class="sticky-content">

              <!-- Stats -->
              <div class="stats-box">
                <h3>Why Choose Edwards & Smith?</h3>
                <div class="stat-item">
                  <div class="stat-number">$75M+</div>
                  <div class="stat-label">Properties Purchased in 2024</div>
                </div>
                <div class="stat-item">
                  <div class="stat-number">$65k</div>
                  <div class="stat-label">Average Client Savings</div>
                </div>
                <div class="stat-item">
                  <div class="stat-number">4 Weeks</div>
                  <div class="stat-label">Average Purchase Time</div>
                </div>
                <div class="stat-item">
                  <div class="stat-number">50+</div>
                  <div class="stat-label">5-Star Reviews</div>
                </div>
              </div>

              <!-- Testimonials -->
              <div class="testimonials-box">
                <h3>What Clients Say</h3>
                <div class="testimonial">
                  <div class="stars">★★★★★</div>
                  <p>"Jake & Jess sent through numerous properties both on the market and off market opportunities. After finding the right property they swiftly secured the in demand property with multiple interested buyers. Couldn't be happier"</p>
                  <p class="author">— Shaun G</p>
                </div>
                <div class="testimonial">
                  <div class="stars">★★★★★</div>
                  <p>"Ely helped my wife and I buy our first home. The process was made so easy through the help of Ely and we were able to find exactly what we were looking for, for a price we wouldn't have been able to get by ourselves."</p>
                  <p class="author">— Sam Skinner</p>
                </div>
                <div class="testimonial">
                  <div class="stars">★★★★★</div>
                  <p>"Ely helped me in every single step of helping me buy my house. He was very reliable and contactable. I would recommend him to anyone and for sure will use his services again."</p>
                  <p class="author">— Javaria Mofazzal</p>
                </div>
              </div>

              <!-- Benefits -->
              <div class="benefits-box">
                <h3>What You Get</h3>
                <ul class="benefits-list">
                  <li>Access to off-market properties before they're public</li>
                  <li>Expert negotiation saving you thousands</li>
                  <li>No timeframe pressure - we take as long as needed</li>
                  <li>Full-service support from search to settlement</li>
                  <li>Deep local market knowledge across QLD & Bali</li>
                </ul>
              </div>

            </div>
          </div>

          <!-- Right Column: Form -->
          <div class="form-column">
            <div class="form-container">
              <h2>Start Your Property Search</h2>
              <p class="form-intro">Fill out the form below and we'll be in touch within 24 hours.</p>

              <form class="consultation-form" id="consultation-form" name="consultation">
                <input type="hidden" id="formId" value="ca10e16f-6931-40a3-96c5-d69087bdd5f1" />
                <input type="hidden" id="leadSource" value="Consultation Form" />

                <!-- Personal Information -->
                <div class="form-row">
                  <div class="form-group">
                    <label for="firstName">First Name <span class="required">*</span></label>
                    <input type="text" id="firstName" name="firstName" required />
                  </div>
                  <div class="form-group">
                    <label for="lastName">Last Name <span class="required">*</span></label>
                    <input type="text" id="lastName" name="lastName" required />
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="email">Email <span class="required">*</span></label>
                    <input type="email" id="email" name="email" required />
                  </div>
                  <div class="form-group">
                    <label for="phone">Phone <span class="required">*</span></label>
                    <input type="tel" id="phone" name="phone" required />
                  </div>
                </div>

                <!-- Property Requirements -->
                <div class="form-group">
                  <label for="budget">Budget Range <span class="required">*</span></label>
                  <select id="budget" name="budget" required>
                    <option value="">Select your budget</option>
                    <option value="under_1m">Under $1M</option>
                    <option value="1m_1.5m">$1M - $1.5M</option>
                    <option value="1.5m_2m">$1.5M - $2M</option>
                    <option value="2m_3m">$2M - $3M</option>
                    <option value="3m_5m">$3M - $5M</option>
                    <option value="over_5m">Over $5M</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="location">Preferred Location <span class="required">*</span></label>
                  <select id="location" name="location" required>
                    <option value="">Select location</option>
                    <option value="brisbane">Brisbane</option>
                    <option value="gold-coast">Gold Coast</option>
                    <option value="bali">Bali</option>
                    <option value="multiple">Multiple Locations</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="propertyType">Property Type <span class="required">*</span></label>
                  <select id="propertyType" name="propertyType" required>
                    <option value="">Select property type</option>
                    <option value="house">House</option>
                    <option value="apartment">Apartment</option>
                    <option value="townhouse">Townhouse</option>
                    <option value="land">Land</option>
                    <option value="villa-bali">Villa (Bali)</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="purpose">Purpose <span class="required">*</span></label>
                  <select id="purpose" name="purpose" required>
                    <option value="">Select purpose</option>
                    <option value="owner_occupier">Owner Occupier (My Home)</option>
                    <option value="investment">Investment Property</option>
                    <option value="both">Both (Live In Then Rent Out)</option>
                    <option value="holiday_home">Holiday Home</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="timeline">Timeline <span class="required">*</span></label>
                  <select id="timeline" name="timeline" required>
                    <option value="">Select timeline</option>
                    <option value="immediate">Immediate (0-3 months)</option>
                    <option value="3_6_months">3-6 Months</option>
                    <option value="6_12_months">6-12 Months</option>
                    <option value="exploring">Just Exploring</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="financeStatus">Finance Status <span class="required">*</span></label>
                  <select id="financeStatus" name="financeStatus" required>
                    <option value="">Select finance status</option>
                    <option value="pre_approved">Pre-Approved (Ready to Buy Now)</option>
                    <option value="in_progress">Finance Application in Progress</option>
                    <option value="not_started">Haven't Started Finance Process</option>
                    <option value="cash_buyer">Cash Buyer</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="situation">Your Situation <span class="required">*</span></label>
                  <select id="situation" name="situation" required>
                    <option value="">Select your situation</option>
                    <option value="first_home_buyer">First Home Buyer</option>
                    <option value="upgrading">Upgrading</option>
                    <option value="downsizing">Downsizing</option>
                    <option value="investor">Property Investor</option>
                    <option value="interstate">Interstate Buyer</option>
                    <option value="relocating">Relocating for Work</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="bedrooms">Minimum Bedrooms</label>
                  <select id="bedrooms" name="bedrooms">
                    <option value="">Any</option>
                    <option value="1">1+</option>
                    <option value="2">2+</option>
                    <option value="3">3+</option>
                    <option value="4">4+</option>
                    <option value="5">5+</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="referralSource">How did you hear about us?</label>
                  <select id="referralSource" name="referralSource">
                    <option value="">Select an option</option>
                    <option value="google">Google Search</option>
                    <option value="ai-chatgpt">AI / ChatGPT</option>
                    <option value="social-media">Social Media (Instagram/Facebook)</option>
                    <option value="friend-referral">Friend/Family Referral</option>
                    <option value="afl-connection">AFL Connection</option>
                    <option value="previous-client">Previous Client</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="additionalInfo">Additional Requirements or Questions</label>
                  <textarea id="additionalInfo" name="additionalInfo" rows="3" placeholder="Tell us about any specific requirements, must-haves, or questions you have..."></textarea>
                </div>

                <div class="form-actions">
                  <button type="submit" class="button-primary button-large" id="submitButton">Submit Consultation Request</button>
                </div>

                <div id="formMessage" class="form-message hidden"></div>

                <p class="form-disclaimer">By submitting this form, you consent to Edwards & Smith contacting you regarding your property requirements. We respect your privacy and will never share your information with third parties.</p>
              </form>
            </div>
          </div>

        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

<style>
  .consultation-hero {
    background-image: url('/assets/images/burleigh-heads-4220-4.webp'), linear-gradient(135deg, rgba(90, 91, 84, 0.85), rgba(137, 139, 122, 0.85));
    background-size: cover;
    background-position: center;
    background-blend-mode: overlay;
    color: var(--white);
    text-align: center;
    padding: 60px 20px;
    position: relative;
  }

  .consultation-hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(90, 91, 84, 0.7), rgba(137, 139, 122, 0.7));
    z-index: 0;
  }

  .consultation-hero .container {
    position: relative;
    z-index: 1;
  }

  .consultation-hero h1 {
    color: var(--white);
    margin-bottom: 15px;
  }

  .hero-subtitle {
    font-family: var(--font-heading);
    font-size: 18px;
    max-width: 700px;
    margin: 0 auto 30px;
  }

  .page-header {
    background-color: var(--white);
    padding: 20px 0;
  }

  .breadcrumb-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
  }

  .breadcrumb {
    font-size: 14px;
    color: var(--text-secondary);
  }

  .breadcrumb a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .breadcrumb a:hover {
    color: var(--primary-green);
    text-decoration: underline;
  }

  .breadcrumb span {
    color: var(--text-primary);
    font-weight: 500;
  }

  .last-updated {
    font-size: 14px;
    color: var(--text-light);
  }


  .fee-banner {
    background-color: rgba(255, 255, 255, 0.95);
    color: var(--text-heading);
    padding: 20px 30px;
    border-radius: 8px;
    max-width: 700px;
    margin: 0 auto;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .fee-banner p {
    margin: 0;
    font-family: var(--font-heading);
    font-size: 16px;
  }

  .fee-banner strong {
    color: var(--primary-green);
  }

  .fee-subtext {
    font-size: 13px !important;
    color: var(--text-light);
    margin-top: 8px !important;
  }

  .form-section {
    background-color: #f9f9f9;
  }

  .two-column-layout {
    display: grid;
    grid-template-columns: 400px 1fr;
    gap: 60px;
    align-items: start;
  }

  /* Left Column: Social Proof */
  .social-proof-column {
    position: relative;
  }

  .sticky-content {
    position: sticky;
    top: 100px;
  }

  .stats-box,
  .testimonials-box,
  .benefits-box {
    background-color: var(--white);
    padding: 30px;
    border-radius: var(--border-radius-small);
    box-shadow: var(--box-shadow-subtle);
    margin-bottom: 25px;
  }

  .stats-box h3,
  .testimonials-box h3,
  .benefits-box h3 {
    color: var(--primary-green);
    font-size: 20px;
    margin-bottom: 20px;
    text-align: center;
  }

  .stat-item {
    text-align: center;
    padding: 15px 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .stat-item:last-child {
    border-bottom: none;
  }

  .stat-number {
    font-size: 28px;
    font-family: Georgia, 'Times New Roman', serif;
    color: var(--primary-green);
    font-weight: 600;
    margin-bottom: 5px;
  }

  .stat-label {
    font-size: 13px;
    color: var(--text-light);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .testimonial {
    padding: 20px 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .testimonial:last-child {
    border-bottom: none;
    padding-bottom: 0;
  }

  .testimonial:first-of-type {
    padding-top: 0;
  }

  .stars {
    color: #FFB800;
    font-size: 16px;
    margin-bottom: 10px;
  }

  .testimonial p {
    font-size: 14px;
    line-height: 1.6;
    margin-bottom: 8px;
    font-style: italic;
  }

  .testimonial .author {
    font-family: var(--font-heading);
    font-size: 13px;
    color: var(--primary-green);
    font-weight: 600;
    font-style: normal;
    margin: 0;
  }

  .benefits-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .benefits-list li {
    padding: 12px 0 12px 28px;
    position: relative;
    font-size: 15px;
    line-height: 1.5;
    border-bottom: 1px solid #f0f0f0;
  }

  .benefits-list li:last-child {
    border-bottom: none;
  }

  .benefits-list li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--primary-green);
    font-weight: bold;
    font-size: 18px;
  }

  /* Right Column: Form */
  .form-column {
    background-color: var(--white);
    padding: 40px;
    border-radius: var(--border-radius-small);
    box-shadow: var(--box-shadow-subtle);
  }

  .form-container h2 {
    margin-bottom: 10px;
    color: var(--primary-green);
  }

  .form-intro {
    font-size: 16px;
    color: var(--text-light);
    margin-bottom: 30px;
  }

  .consultation-form {
    max-width: 600px;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  .form-group {
    margin-bottom: 20px;
  }

  .form-group label {
    display: block;
    font-family: var(--font-heading);
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
  }

  .required {
    color: #d32f2f;
  }

  .form-group input[type="text"],
  .form-group input[type="email"],
  .form-group input[type="tel"],
  .form-group select,
  .form-group textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-family: var(--font-body);
    font-size: 15px;
    transition: border-color 0.3s ease;
  }

  .form-group select {
    cursor: pointer;
    background-color: var(--white);
  }

  .form-group input:focus,
  .form-group select:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: var(--primary-green);
  }

  .hidden {
    display: none;
  }

  .form-actions {
    margin-top: 30px;
  }

  .button-large {
    width: 100%;
    padding: 16px 32px;
    font-size: 15px;
  }

  .form-disclaimer {
    margin-top: 20px;
    font-size: 12px;
    color: var(--text-light);
    line-height: 1.5;
  }

  @media (max-width: 1200px) {
    .two-column-layout {
      grid-template-columns: 350px 1fr;
      gap: 40px;
    }
  }

  @media (max-width: 1024px) {
    .two-column-layout {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .sticky-content {
      position: static;
    }

    .stats-box,
    .testimonials-box,
    .benefits-box {
      margin-bottom: 20px;
    }

    .form-column {
      padding: 30px;
    }
  }

  @media (max-width: 768px) {
    .form-row {
      grid-template-columns: 1fr;
    }

    .consultation-hero {
      padding: 40px 20px;
    }

    .fee-banner {
      padding: 15px 20px;
    }

    .form-column {
      padding: 25px 20px;
    }
  }

  .form-message {
    padding: 15px;
    border-radius: 4px;
    margin: 20px 0;
    font-size: 16px;
  }

  .form-message.success {
    background-color: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
  }

  .form-message.error {
    background-color: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
  }

  .form-message.hidden {
    display: none;
  }
</style>

<script is:inline>
  document.getElementById('consultation-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    console.log('Form submission started');

    const submitButton = document.getElementById('submitButton');
    const formMessage = document.getElementById('formMessage');
    const form = e.target;

    submitButton.disabled = true;
    submitButton.textContent = 'Submitting...';
    formMessage.classList.add('hidden');

    const formData = new FormData(form);
    const fields = {};

    // Map form fields to HubSpot properties
    fields.firstname = formData.get('firstName');
    fields.lastname = formData.get('lastName');
    fields.email = formData.get('email');
    fields.phone = formData.get('phone') || '';
    fields.budget_range = formData.get('budget') || '';
    fields.preferred_location = formData.get('location') || '';
    fields.property_type = formData.get('propertyType') || '';
    fields.purchase_purpose = formData.get('purpose') || '';
    fields.purchase_timeline = formData.get('timeline') || '';
    fields.finance_status = formData.get('financeStatus') || '';
    fields.buyer_situation = formData.get('situation') || '';
    fields.minimum_bedrooms = formData.get('bedrooms') || '';
    fields.referral_source = formData.get('referralSource') || '';
    fields.message = formData.get('additionalInfo') || '';
    fields.lead_source = 'Consultation Form';

    const payload = {
      formId: document.getElementById('formId').value,
      fields: fields,
      context: {
        pageUri: window.location.href,
        pageName: 'Book Free Consultation'
      }
    };

    try {
      console.log('Sending to HubSpot:', payload);
      const response = await fetch('/api/hubspot-form', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      console.log('Response status:', response.status);
      const result = await response.json();
      console.log('Response data:', result);

      if (response.ok && result.success) {
        formMessage.textContent = 'Thank you! Your consultation request has been received. We\'ll contact you within 24 hours.';
        formMessage.className = 'form-message success';
        formMessage.classList.remove('hidden');
        form.reset();
      } else {
        formMessage.textContent = 'There was an error submitting your request. Please try again or call us at 0413 245 022.';
        formMessage.className = 'form-message error';
        formMessage.classList.remove('hidden');
      }
    } catch (error) {
      console.error('Form submission error:', error);
      formMessage.textContent = 'There was an error submitting your request. Please try again or call us at 0413 245 022.';
      formMessage.className = 'form-message error';
      formMessage.classList.remove('hidden');
    } finally {
      submitButton.disabled = false;
      submitButton.textContent = 'Submit Consultation Request';
    }
  });
</script>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Service",
  "serviceType": "Buyers Agent Consultation",
  "provider": {
    "@type": "RealEstateAgent",
    "name": "Edwards & Smith Buyers Agents",
    "url": "https://www.edwardsandsmith.com.au",
    "telephone": "0413245022",
    "email": "info@edwardsandsmith.com.au"
  },
  "areaServed": [
    {
      "@type": "City",
      "name": "Brisbane",
      "addressCountry": "AU"
    },
    {
      "@type": "City",
      "name": "Gold Coast",
      "addressCountry": "AU"
    },
    {
      "@type": "City",
      "name": "Bali",
      "addressCountry": "ID"
    }
  ],
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "AUD",
    "description": "Free initial consultation"
  }
}
</script>
